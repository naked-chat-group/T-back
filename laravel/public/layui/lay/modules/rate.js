layui.define("jquery",function(e){var f=layui.jquery,h={config:{},index:layui.rate?(layui.rate.index+10000):0,set:function(n){var o=this;o.config=f.extend({},o.config,n);return o},on:function(n,o){return layui.onevent.call(this,j,n,o)}},k=function(){var o=this,n=o.config;return{setvalue:function(p){o.setvalue.call(o,p)},config:n}},j="rate",i="layui-rate",g="layui-icon-rate",c="layui-icon-rate-solid",m="layui-icon-rate-half",d="layui-icon-rate-solid layui-icon-rate-half",l="layui-icon-rate-solid layui-icon-rate",b="layui-icon-rate layui-icon-rate-half",a=function(n){var o=this;o.index=++h.index;o.config=f.extend({},o.config,h.config,n);o.render()};a.prototype.config={length:5,text:false,readonly:false,half:false,value:0,theme:""};a.prototype.render=function(){var t=this,p=t.config,r=p.theme?('style="color: '+p.theme+';"'):"";p.elem=f(p.elem);if(parseInt(p.value)!==p.value){if(!p.half){p.value=(Math.ceil(p.value)-p.value)<0.5?Math.ceil(p.value):Math.floor(p.value)}}var o='<ul class="layui-rate" '+(p.readonly?"readonly":"")+">";for(var q=1;q<=p.length;q++){var s='<li class="layui-inline"><i class="layui-icon '+(q>Math.floor(p.value)?g:c)+'" '+r+"></i></li>";if(p.half){if(parseInt(p.value)!==p.value){if(q==Math.ceil(p.value)){o=o+'<li><i class="layui-icon layui-icon-rate-half" '+r+"></i></li>"}else{o=o+s}}else{o=o+s}}else{o=o+s}}o+="</ul>"+(p.text?('<span class="layui-inline">'+p.value+"星"):"")+"</span>";var u=p.elem,n=u.next("."+i);n[0]&&n.remove();t.elemTemp=f(o);p.span=t.elemTemp.next("span");p.setText&&p.setText(p.value);u.html(t.elemTemp);u.addClass("layui-inline");if(!p.readonly){t.action()}};a.prototype.setvalue=function(p){var o=this,n=o.config;n.value=p;o.render()};a.prototype.action=function(){var p=this,o=p.config,q=p.elemTemp,n=q.find("i").width();q.children("li").each(function(r){var t=r+1,s=f(this);s.on("click",function(v){o.value=t;if(o.half){var u=v.pageX-f(this).offset().left;if(u<=n/2){o.value=o.value-0.5}}if(o.text){q.next("span").text(o.value+"星")}o.choose&&o.choose(o.value);o.setText&&o.setText(o.value)});s.on("mousemove",function(v){q.find("i").each(function(){f(this).addClass(g).removeClass(d)});q.find("i:lt("+t+")").each(function(){f(this).addClass(c).removeClass(b)});if(o.half){var u=v.pageX-f(this).offset().left;if(u<=n/2){s.children("i").addClass(m).removeClass(c)}}});s.on("mouseleave",function(){q.find("i").each(function(){f(this).addClass(g).removeClass(d)});q.find("i:lt("+Math.floor(o.value)+")").each(function(){f(this).addClass(c).removeClass(b)});if(o.half){if(parseInt(o.value)!==o.value){q.children("li:eq("+Math.floor(o.value)+")").children("i").addClass(m).removeClass(l)}}})})};a.prototype.events=function(){var o=this,n=o.config};h.render=function(n){var o=new a(n);return k.call(o)};e(j,h)});